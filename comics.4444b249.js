!function(){var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},e={},o=n.parcelRequire8df6;null==o&&((o=function(n){if(n in t)return t[n].exports;if(n in e){var o=e[n];delete e[n];var i={id:n,exports:{}};return t[n]=i,o.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(n,t){e[n]=t},n.parcelRequire8df6=o);var i={};i=function n(t,e,o){function i(c,a){if(!e[c]){if(!t[c]){var s=void 0;if(!a&&s)return s(c,!0);if(r)return r(c,!0);var l=new Error("Cannot find module '"+c+"'");throw l.code="MODULE_NOT_FOUND",l}var u=e[c]={exports:{}};t[c][0].call(u.exports,(function(n){return i(t[c][1][n]||n)}),u,u.exports,n,t,e,o)}return e[c].exports}for(var r=void 0,c=0;c<o.length;c++)i(o[c]);return i}({1:[function(n,t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.visible=void 0;var o=function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=document.createElement("div");return e.innerHTML=n.trim(),!0===t?e.children:e.firstChild},i=function(n,t){var e=n.children;return 1===e.length&&e[0].tagName===t},r=function(n){return null!=(n=n||document.querySelector(".basicLightbox"))&&!0===n.ownerDocument.body.contains(n)};e.visible=r,e.create=function(n,t){var e=function(n,t){var e=o('\n\t\t<div class="basicLightbox '.concat(t.className,'">\n\t\t\t<div class="basicLightbox__placeholder" role="dialog"></div>\n\t\t</div>\n\t')),r=e.querySelector(".basicLightbox__placeholder");n.forEach((function(n){return r.appendChild(n)}));var c=i(r,"IMG"),a=i(r,"VIDEO"),s=i(r,"IFRAME");return!0===c&&e.classList.add("basicLightbox--img"),!0===a&&e.classList.add("basicLightbox--video"),!0===s&&e.classList.add("basicLightbox--iframe"),e}(n=function(n){var t="string"==typeof n,e=n instanceof HTMLElement==1;if(!1===t&&!1===e)throw new Error("Content must be a DOM element/node or string");return!0===t?Array.from(o(n,!0)):"TEMPLATE"===n.tagName?[n.content.cloneNode(!0)]:Array.from(n.children)}(n),t=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null==(n=Object.assign({},n)).closable&&(n.closable=!0),null==n.className&&(n.className=""),null==n.onShow&&(n.onShow=function(){}),null==n.onClose&&(n.onClose=function(){}),"boolean"!=typeof n.closable)throw new Error("Property `closable` must be a boolean");if("string"!=typeof n.className)throw new Error("Property `className` must be a string");if("function"!=typeof n.onShow)throw new Error("Property `onShow` must be a function");if("function"!=typeof n.onClose)throw new Error("Property `onClose` must be a function");return n}(t)),c=function(n){return!1!==t.onClose(a)&&function(n,t){return n.classList.remove("basicLightbox--visible"),setTimeout((function(){return!1===r(n)||n.parentElement.removeChild(n),t()}),410),!0}(e,(function(){if("function"==typeof n)return n(a)}))};!0===t.closable&&e.addEventListener("click",(function(n){n.target===e&&c()}));var a={element:function(){return e},visible:function(){return r(e)},show:function(n){return!1!==t.onShow(a)&&function(n,t){return document.body.appendChild(n),setTimeout((function(){requestAnimationFrame((function(){return n.classList.add("basicLightbox--visible"),t()}))}),10),!0}(e,(function(){if("function"==typeof n)return n(a)}))},close:c};return a}},{}]},{},[1])(1);var r=o("4qBpi"),c=document.querySelector(".comics__list"),a=document.querySelector(".comics__form"),s=document.querySelector(".btn-load-more"),l=document.querySelector(".loading"),u=document.querySelector(".comics__input-title"),f=document.querySelector(".comics__format"),d=document.querySelector(".comics__order-by");s.style.display="none";var m=20,p=0;function h(n){if(n.target.closest(".comics__list-item")){var t=n.target.closest(".comics__list-item").dataset.id;(0,r.getComicsById)(t).then((function(n){console.log(n.data.results[0]);var t=n.data.results[0],e=t.thumbnail,o=t.title,r=t.description,c=t.characters,a=t.format,s=t.prices,l=i.create("\n            <div class='comic-info'>\n                    <button class='comic-info__btn-close'>X</button>\n                    <img class='comic-info__img' src=".concat(e.path+"."+e.extension," alt=").concat(o,">\n                    <div class='comic-info__information'>\n                        <p class='comic-info__title'>").concat(o,"</p>\n                        <p class='comic-info__description'>").concat(r||"No description for this comic.","</p>\n                        <ul class='comic-info__sale-info-list list'>\n                            <li class='comic-info__sale-info-list-item'>\n                                <span>FORMAT</span>\n                                <p>").concat(a,"</p>\n                            </li>\n                            <li class='comic-info__sale-info-list-item'>\n                                <span>PRICE</span>\n                                <p>").concat(s[0].price,"</p>\n                            </li>\n                        </ul>\n                        <p class='comic-info__char-title'>Characters</p>\n                        <ul class='comic-info__char-list'>\n                            ").concat(c.items.length?c.items.map((function(n){return"\n                                    <li class='comic-characters-list-item'>".concat(n.name,"</li>\n                                ")})).join(""):"No data about characters.","\n                        </ul>\n                    </div>\n                </div>\n            "));l.show(),document.querySelector(".comic-info__btn-close").addEventListener("click",(function(){return l.close()}))})).catch((function(n){return console.error(n)}))}}function v(n){var t=n.map((function(n){return function(n,t,e){return'\n        <li class="comics__list-item" data-id='.concat(n,">\n            <img src=").concat(t.path+"."+t.extension," alt=").concat(e,">\n            <p>").concat(e,"</p>\n        </li>\n    ")}(n.id,n.thumbnail,n.title)})).join("");l.hidden=!0,c.insertAdjacentHTML("beforeend",t),s.style.display="block"}a.addEventListener("submit",(function(n){n.preventDefault();var t=u.value,e=f.value,o=d.value;if(!t)return;c.innerHTML="",l.hidden=!1,m=50,console.log(t,e,o,m,p),(0,r.getComicsBySearch)(t,e,o,m,p).then((function(n){l.hidden=!0,n.data.results.length||(c.innerHTML="\n                    <p class='no-data'>Sorry, no data for this query.</p>\n                "),v(n.data.results),s.style.display="none"})).catch((function(n){return console.error(n)}))})),s.addEventListener("click",(function(){l.hidden=!1,p+=20,(0,r.getComics)(m,p).then((function(n){return v(n.data.results),p}))})),(0,r.getComics)(m,p).then((function(n){v(n.data.results),c.addEventListener("click",h)})).catch((function(n){return console.error(n)}))}();
//# sourceMappingURL=comics.4444b249.js.map
