var t={};t=function t(e,n,o){function i(r,s){if(!n[r]){if(!e[r]){var a=void 0;if(!s&&a)return a(r,!0);if(c)return c(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};e[r][0].call(u.exports,(function(t){return i(e[r][1][t]||t)}),u,u.exports,t,e,n,o)}return n[r].exports}for(var c=void 0,r=0;r<o.length;r++)i(o[r]);return i}({1:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.create=n.visible=void 0;var o=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.createElement("div");return n.innerHTML=t.trim(),!0===e?n.children:n.firstChild},i=function(t,e){var n=t.children;return 1===n.length&&n[0].tagName===e},c=function(t){return null!=(t=t||document.querySelector(".basicLightbox"))&&!0===t.ownerDocument.body.contains(t)};n.visible=c,n.create=function(t,e){var n=function(t,e){var n=o('\n\t\t<div class="basicLightbox '.concat(e.className,'">\n\t\t\t<div class="basicLightbox__placeholder" role="dialog"></div>\n\t\t</div>\n\t')),c=n.querySelector(".basicLightbox__placeholder");t.forEach((function(t){return c.appendChild(t)}));var r=i(c,"IMG"),s=i(c,"VIDEO"),a=i(c,"IFRAME");return!0===r&&n.classList.add("basicLightbox--img"),!0===s&&n.classList.add("basicLightbox--video"),!0===a&&n.classList.add("basicLightbox--iframe"),n}(t=function(t){var e="string"==typeof t,n=t instanceof HTMLElement==1;if(!1===e&&!1===n)throw new Error("Content must be a DOM element/node or string");return!0===e?Array.from(o(t,!0)):"TEMPLATE"===t.tagName?[t.content.cloneNode(!0)]:Array.from(t.children)}(t),e=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null==(t=Object.assign({},t)).closable&&(t.closable=!0),null==t.className&&(t.className=""),null==t.onShow&&(t.onShow=function(){}),null==t.onClose&&(t.onClose=function(){}),"boolean"!=typeof t.closable)throw new Error("Property `closable` must be a boolean");if("string"!=typeof t.className)throw new Error("Property `className` must be a string");if("function"!=typeof t.onShow)throw new Error("Property `onShow` must be a function");if("function"!=typeof t.onClose)throw new Error("Property `onClose` must be a function");return t}(e)),r=function(t){return!1!==e.onClose(s)&&function(t,e){return t.classList.remove("basicLightbox--visible"),setTimeout((function(){return!1===c(t)||t.parentElement.removeChild(t),e()}),410),!0}(n,(function(){if("function"==typeof t)return t(s)}))};!0===e.closable&&n.addEventListener("click",(function(t){t.target===n&&r()}));var s={element:function(){return n},visible:function(){return c(n)},show:function(t){return!1!==e.onShow(s)&&function(t,e){return document.body.appendChild(t),setTimeout((function(){requestAnimationFrame((function(){return t.classList.add("basicLightbox--visible"),e()}))}),10),!0}(n,(function(){if("function"==typeof t)return t(s)}))},close:r};return s}},{}]},{},[1])(1);async function e(t,e){const n=await fetch(`https://gateway.marvel.com:443/v1/public/comics?limit=${t}&offset=${e}&apikey=a85ca2e1a3f06b7ee3183f960e5fdc88`);if(!n.ok)throw new Error(n.status);return n.json()}async function n(t,e,n,o,i){const c=await fetch(`https://gateway.marvel.com:443/v1/public/comics?format=${e}&titleStartsWith=${t}&orderBy=${n}&limit=${o}&offset=${i}&apikey=a85ca2e1a3f06b7ee3183f960e5fdc88`);if(!c.ok)throw new Error(c.status,c.statusText);return c.json()}async function o(t){const e=await fetch(`https://gateway.marvel.com:443/v1/public/comics/${t}?apikey=a85ca2e1a3f06b7ee3183f960e5fdc88`);if(!e.ok)throw new Error(e.status);return e.json()}const i=document.querySelector(".comics__list"),c=document.querySelector(".comics__form"),r=document.querySelector(".btn-load-more"),s=document.querySelector(".loading"),a=document.querySelector(".comics__input-title"),l=document.querySelector(".comics__format"),u=document.querySelector(".comics__order-by");r.style.display="none";let f=20,d=0;function m(e){if(!e.target.closest(".comics__list-item"))return;const{id:n}=e.target.closest(".comics__list-item").dataset;o(n).then((e=>{console.log(e.data.results[0]);const{thumbnail:n,title:o,description:i,characters:c,format:r,prices:s}=e.data.results[0],a=t.create(`\n            <div class='comic-info'>\n                    <button class='comic-info__btn-close'>X</button>\n                    <img class='comic-info__img' src=${n.path+"."+n.extension} alt=${o}>\n                    <div class='comic-info__information'>\n                        <p class='comic-info__title'>${o}</p>\n                        <p class='comic-info__description'>${i||"No description for this comic."}</p>\n                        <ul class='comic-info__sale-info-list list'>\n                            <li class='comic-info__sale-info-list-item'>\n                                <span>FORMAT</span>\n                                <p>${r}</p>\n                            </li>\n                            <li class='comic-info__sale-info-list-item'>\n                                <span>PRICE</span>\n                                <p>${s[0].price}</p>\n                            </li>\n                        </ul>\n                        <p class='comic-info__char-title'>Characters</p>\n                        <ul class='comic-info__char-list'>\n                            ${c.items.length?c.items.map((t=>`\n                                    <li class='comic-characters-list-item'>${t.name}</li>\n                                `)).join(""):"No data about characters."}\n                        </ul>\n                    </div>\n                </div>\n            `);a.show(),document.querySelector(".comic-info__btn-close").addEventListener("click",(()=>a.close()))})).catch((t=>console.error(t)))}function h(t){const e=t.map((({id:t,thumbnail:e,title:n})=>function(t,e,n){return`\n        <li class="comics__list-item" data-id=${t}>\n            <img src=${e.path+"."+e.extension} alt=${n}>\n            <p>${n}</p>\n        </li>\n    `}(t,e,n))).join("");s.hidden=!0,i.insertAdjacentHTML("beforeend",e),r.style.display="block"}c.addEventListener("submit",(function(t){t.preventDefault();const e=a.value,o=l.value,c=u.value;if(!e)return;i.innerHTML="",s.hidden=!1,f=50,console.log(e,o,c,f,d),n(e,o,c,f,d).then((t=>{s.hidden=!0,t.data.results.length||(i.innerHTML="\n                    <p class='no-data'>Sorry, no data for this query.</p>\n                "),h(t.data.results),r.style.display="none"})).catch((t=>console.error(t)))})),r.addEventListener("click",(function(){s.hidden=!1,d+=20,e(f,d).then((t=>(h(t.data.results),d)))})),e(f,d).then((t=>{h(t.data.results),i.addEventListener("click",m)})).catch((t=>console.error(t)));
//# sourceMappingURL=comics.51db44b7.js.map
